<ion-header>
  <ion-toolbar color="primary">
    <ion-title>
      <span class="web-name">SYSTEM admin</span>
    </ion-title>
  </ion-toolbar>
  
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button [class.current]="true">Home</ion-button>
      <ion-button href="/search">Search</ion-button>
      <ion-button href="/fundraiser">Fundraiser</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="loading-spinner" *ngIf="loading">
    <ion-spinner name="crescent"></ion-spinner>
  </div>

  <ion-list *ngIf="!loading">
    <!-- 表头 -->
    <ion-grid class="header-grid">
      <ion-row>
        <ion-col size="1.5">ID</ion-col>
        <ion-col>类型</ion-col>
        <ion-col>状态</ion-col>
        <ion-col>车辆</ion-col>
        <ion-col>用户</ion-col>
        <ion-col>操作</ion-col>
      </ion-row>
    </ion-grid>

    <!-- 数据行 -->
    <ion-item *ngFor="let space of spaces">
      <ion-grid>
        <ion-row>
          <ion-col size="1.5">{{ space.id }}</ion-col>
          <ion-col>{{ space.space_type }}</ion-col>
          <ion-col>
            <ion-select 
              interface="action-sheet"
              [value]="space.status"
              (ionChange)="updateStatus(space, $event.detail.value)"
            >
              <ion-select-option value="idle">空闲</ion-select-option>
              <ion-select-option value="occupied">占用中</ion-select-option>
              <ion-select-option value="booked">已预约</ion-select-option>
            </ion-select>
          </ion-col>
          <ion-col>{{ space.license_plate || '-' }}</ion-col>
          <ion-col>{{ space.name || '-' }}</ion-col>
          <ion-col>
            <ion-button 
              fill="solid" 
              color="primary"
              (click)="openDetail(space.id)"
            >
              详情
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-list>
</ion-content>